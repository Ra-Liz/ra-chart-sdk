<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WindBar Chart Demo</title>
    <style>
      body {
        background: #333;
        color: white;
      }
      #chart {
        width: 20%;
        height: 400px;
        margin: 50px auto;
        overflow: hidden;
        position: relative;
      }
    </style>
  </head>
  <body>
    <div id="chart"></div>
    <!-- 引入 D3 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- 引入打包后的库 -->
    <script src="./dist/raliz.umd.js"></script>

    <script>
      // 处理数据
      let time = 1748329200;
      const data = [
        [40, 25.25, 600, 30, 30],
        [100, 27.34, 600, 25, 30],
        [150, 27.69, 600, 25, 25],
        [200, 27.25, 600, 25, 25],
        [250, 26.36, 600, 25, 25],
        [300, 24.79, 600, 150, 25],
        [600, 19.64, 600, 50, 150],
        [700, 18.45, 600, 50, 50],
        [800, 17.71, 600, 100, 50],
        [1000, 14.77, 600, 100, 100],
      ];
      // 配置
      const config = {
        className: "prifile",
        title: "Profile Example",
        unit: "m",
        marginBottom: 40,
        marginTop: 40,
        marginLeft: 40,
        marginRight: 40,
        maxHeight: 1000,
        minHeight: 0,
        yTicks: 10,
        values: [0, 10, 20],
        colors: ["#0f0", "#0ff", "#00f"],
        titleSize: "",
        titleColor: "",
        unitSize: "",
        unitColor: "",
        gridColor: "",
        gridOpacity: 0.4,
        axisLineColor: "",
        axisLineWidth: 1,
        axisTextColor: "",
        axisFontSize: "12px",
        valueLabel: "风速",
        valueUnit: "m/s",
      };
      function handleSelect(data) {
        console.log("test handleSelect result: ", data);
      }
      const raChart = window.raliz.raChart;
      // 绘图初始化
      const chart = new raChart(document.getElementById("chart"), {
        type: "line",
        data: data,
        config: config,
      });
      chart.renderData(config.minHeight, config.maxHeight);
      window.addEventListener("resize", () => {
        if (chart) {
          chart.resize();
        }
      });
      // 重置绘图
      // 绘图下载
      // 更新绘图配置项
    </script>
  </body>
</html>
