<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>WindBar Chart Demo</title>
    <style>
      body {
        background: #333;
        color: white;
      }
      #chart {
        width: 80%;
        height: 400px;
        margin: 50px auto;
        overflow: hidden;
        position: relative;
      }
    </style>
  </head>
  <body>
    <div id="chart"></div>
    <!-- 引入 D3 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- 引入打包后的库 -->
    <script src="./dist/raliz.umd.js"></script>

    <script>
      // 处理数据
      const data = [
        [1748329200, 40, 4.44, 191],
        [1748329200, 100, 5.46, 192],
        [1748329200, 150, 5.36, 189],
        [1748329200, 200, 5.42, 188],
        [1748329200, 250, 6.08, 188],
        [1748329200, 300, 6.67, 193],
        [1748329200, 600, 6.36, 202],
        [1748329200, 700, 5.91, 201],
        [1748329200, 800, 5.79, 200],
        [1748329200, 1000, 5.3, 197],
        [1748329800, 40, 2.72, 176],
        [1748329800, 100, 3.86, 181],
        [1748329800, 150, 4.79, 173],
        [1748329800, 200, 4.9, 180],
        [1748329800, 250, 5.52, 185],
        [1748329800, 300, 6.24, 189],
        [1748329800, 600, 5.67, 196],
        [1748329800, 700, 5.7, 197],
        [1748329800, 800, 5.02, 193],
        [1748329800, 1000, 5.82, 196],
        [1748330400, 40, 3.4, 220],
        [1748330400, 100, 4.57, 203],
        [1748330400, 150, 4.78, 196],
        [1748330400, 200, 4.98, 189],
        [1748330400, 250, 5.03, 190],
        [1748330400, 300, 5.56, 189],
        [1748330400, 600, 5.3, 190],
        [1748330400, 700, 5.22, 190],
        [1748330400, 800, 5.03, 191],
        [1748330400, 1000, 5.5, 195],
        [1748331000, 40, 3.58, 211],
        [1748331000, 100, 4.75, 197],
        [1748331000, 150, 4.61, 196],
        [1748331000, 200, 4.72, 187],
        [1748331000, 250, 5.09, 182],
        [1748331000, 300, 5.28, 182],
        [1748331000, 600, 5.71, 188],
        [1748331000, 700, 5.25, 189],
        [1748331000, 800, 5.41, 190],
        [1748331000, 1000, 5.63, 192],
        [1748331600, 40, 3.82, 173],
        [1748331600, 100, 5.22, 172],
        [1748331600, 150, 5.45, 172],
        [1748331600, 200, 5.43, 174],
        [1748331600, 250, 5.22, 178],
        [1748331600, 300, 5.47, 185],
        [1748331600, 600, 5.7, 191],
        [1748331600, 700, 5.65, 189],
        [1748331600, 800, 5.9, 190],
        [1748331600, 1000, 5.73, 191],
        [1748333400, 40, 8.78, 243],
        [1748333400, 100, 4.84, 205],
        [1748333400, 150, 4.89, 197],
        [1748333400, 200, 5.41, 193],
        [1748333400, 250, 5.63, 190],
        [1748333400, 300, 7.28, 192],
        [1748333400, 600, 6.79, 185],
        [1748333400, 700, 6.64, 184],
        [1748333400, 800, 6.14, 183],
        [1748333400, 1000, 7.49, 183],
        [1748334000, 40, 3.85, 180],
        [1748334000, 100, 4.95, 180],
        [1748334000, 150, 5.22, 179],
        [1748334000, 200, 5.73, 182],
        [1748334000, 250, 6.23, 189],
        [1748334000, 300, 6.72, 194],
        [1748334000, 600, 6.51, 189],
        [1748334000, 700, 6.3, 185],
        [1748334000, 800, 6, 182],
        [1748334000, 1000, 6.82, 192],
        [1748334600, 40, 2.86, 195],
        [1748334600, 100, 4.39, 186],
        [1748334600, 150, 5.05, 183],
        [1748334600, 200, 5.23, 182],
        [1748334600, 250, 5.74, 184],
        [1748334600, 300, 6.62, 186],
        [1748334600, 600, 6.89, 192],
        [1748334600, 700, 6.52, 187],
        [1748334600, 800, 6.29, 184],
        [1748334600, 1000, 7.44, 192],
        [1748335200, 40, 3.17, 186],
        [1748335200, 100, 4.39, 187],
        [1748335200, 150, 4.85, 182],
        [1748335200, 200, 5.5, 179],
        [1748335200, 250, 6.38, 182],
        [1748335200, 300, 7.04, 185],
        [1748335200, 600, 7.14, 194],
        [1748335200, 700, 6.79, 193],
        [1748335200, 800, 6.65, 189],
        [1748335800, 40, 3.23, 199],
        [1748335800, 100, 4.75, 189],
        [1748335800, 150, 5.39, 184],
        [1748335800, 200, 5.6, 180],
        [1748335800, 250, 6.09, 180],
        [1748335800, 300, 6.71, 182],
        [1748335800, 600, 7.11, 193],
        [1748335800, 700, 6.95, 196],
        [1748335800, 800, 6.95, 194],
        [1748336400, 40, 3.34, 213],
        [1748336400, 100, 5.36, 191],
        [1748336400, 150, 5.56, 186],
        [1748336400, 200, 5.24, 180],
        [1748336400, 250, 5.16, 175],
        [1748336400, 300, 5.34, 170],
        [1748336400, 600, 6.51, 187],
        [1748336400, 700, 7.09, 194],
        [1748336400, 800, 6.87, 195],
      ];
      const timelen = 11;
      // 配置
      const config = {
        className: "windbar",
        title: "Wind Bar Example",
        unit: "m/s",
        marginBottom: 40,
        marginTop: 40,
        marginLeft: 40,
        marginRight: 40,
        maxHeight: 1000,
        minHeight: 0,
        yTicks: 10,
        values: [0, 10, 20],
        colors: ["#0f0", "#0ff", "#00f"],
        renderType: "barb",
        // renderType: "arrow",
        barbWidth: 2,
        // arrowWidth: 2,
        titleSize: "",
        titleColor: "",
        unitSize: "",
        unitColor: "",
        gridColor: "",
        gridOpacity: 0.4,
        axisLineColor: "",
        axisLineWidth: 1,
        axisTextColor: "",
        axisFontSize: "12px",
        colorGradient: true,
        direction: "left",
        dblClick: handleSelect,
        dblInit: true,
        dblColor: "skyblue",
      };
      function handleSelect(data) {
        console.log("test handleSelect result: ", data);
      }
      const raChart = window.raliz.raChart;
      // 绘图初始化
      const chart = new raChart(document.getElementById("chart"), {
        type: "bar",
        data: data,
        timelen,
        config: config,
      });
      chart.renderData(config.minHeight, config.maxHeight);
      window.addEventListener("resize", () => {
        if (chart) {
          chart.resize();
        }
      });
      // 重置绘图
      // 绘图下载
      // 更新绘图配置项
    </script>
  </body>
</html>
